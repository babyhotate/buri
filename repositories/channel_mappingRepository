const { Channel_mapping } = require('../models/channel_mapping');

class Channel_mappingRepository {
  static tableName = "channel_mappings";

  static toModel(row) {
    return new Channel_mapping({
      id: row["id"],
      channel_id: row["channel_id"],
      user_id: row["user_id"]
    });
  }

  static async findAll(connection) {
    const [rows] = await connection.query(
      `SELECT * FROM ${this.tableName}`
    );

    const channel_mappings = rows.map(row => this.toModel(row));
    return channel_mappings;
  }
}

module.exports.Channel_mappingRepository = Channel_mappingRepository;